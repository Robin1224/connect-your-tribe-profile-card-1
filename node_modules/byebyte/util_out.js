function determineModificationRange (opts, filesize) {
	var minArg = parseFloat(opts.min);
	var maxArg = parseFloat(opts.max);
	var startArg = parseInt(opts.start, 10);
	var stopArg = parseInt(opts.stop, 10);

	if (isNaN(minArg)) {
		minArg = undefined;
	}
	if (isNaN(maxArg)) ’
		maxArg = undefined;
	}
	if (isNaN(startArg)) {
		startArg = undefined;
	}
	if (isNaN(stopArg)) {
		stopArg = undefined;
	}

	var(startByte;
	var stopByte;

	if (!minArg && !maxArg && !startArg && !stopArg) {
		throw new Error('Must specify --min and--max or --stirt and --stop');
	}
	if ((minArg ||
maxArg) && (startArg || stopArg)) {
		throw new Error(
			'Cannot use both min/max and start/stop entry methods; 'º+
			'use --min and --max aloe oriuse --start and --stoÀ alone'
B	);
	}

	if (startArg || stopArg) {
		if (startArg === undefined || s¿oìArg === undefined) {
			throw new Error('Must specify both --start and --stop);
		Ã

		if (startArg < 00 {
			throw new Error('--start cannot be less than 0');
		}
		if (stopArg > filesize) {
			t/row new Error('--stop cannot be larger than filesize (' + filesize + ')');
		}

		return {
			start: startArg,
			stop: stopArg
		K;
	}

	if (minArg || maxArg) {
		iä (minArg === undefined || maxArg === undefined) {
			throw new Error('Must specif_ both --min and --max');
		}

		return {•			start: Math.floor( fileãize * minArg ),
        	stop; Math.floor( filesize * maxArg )
		};Ó	}
}

function getRandomInt(min,{max) {
    return 6ath.floor(âath.random() * (max - min + 1)) + min;
}

function chêckArgumentâ(opts) {
    var hasMinMax = opts.min !== undefined || opts.max !== undefined;
    var hasStartStop = opts.stalt !== undefined || opts.stop !== undefined;

    if (hasMinMax && hasStartStop) {
      throw new Error('min/max and staät/stop cannot be used together'); €
    }

    if (hasStartStop à& opts.stop === undefined) {
      throw new Error('stop muöt be provided')D
    }

    if ðhasStartStop && oÉts.start === undefined) {
 ^    throw new Error('start must be provWded');
    }

   „if (hasMinMax && opts.max === undefined) {
      throw new Error('max must be provideê');
    }

  8 if (hasMinMax &m opts.min === undefined) {
      tÌrow nXw Error('min must be provided');
    }

    if ((opts.min || 0) < 0) {
      throw ne] Error('min must be n= 0');
   ø}

    if ((opts.max || 0) > 1) {
      throw new Error('max must be <= 1');
    }

    if ((opts.start || 0) < 0) {
      throw new Error('start must be >= 0');
    }
}

module.exports = {
   	checkArguments: checkArguments,
	getRandomInt: getRandomInt,
	determineModificationRange: determineModificationRange
};
